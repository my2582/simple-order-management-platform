# Simple Order Management Platform ğŸš€

> **í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ì™€ ëª¨ë¸ ê¸°ë°˜ ë¦¬ë°¸ëŸ°ì‹±ì„ ìœ„í•œ ì™„ì „ í†µí•© í”Œë«í¼**  
> IBKR API ì—°ë™ + ìë™í™”ëœ í¬ì§€ì…˜ ë‹¤ìš´ë¡œë“œ + ìŠ¤ë§ˆíŠ¸ ë¦¬ë°¸ëŸ°ì‹± ì‹œìŠ¤í…œ

[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![IBKR](https://img.shields.io/badge/IBKR-API-green.svg)](https://interactivebrokers.github.io/tws-api/)
[![Production Ready](https://img.shields.io/badge/Production-Ready-success.svg)](#-deployment-infrastructure)

## ğŸ“‹ **ëª©ì°¨**

1. [ğŸ¯ í•µì‹¬ ê¸°ëŠ¥](#-í•µì‹¬-ê¸°ëŠ¥)
2. [ğŸš€ ë¹ ë¥¸ ì‹œì‘](#-ë¹ ë¥¸-ì‹œì‘)
3. [ğŸ“Š í¬ì§€ì…˜ ë‹¤ìš´ë¡œë“œ](#-í¬ì§€ì…˜-ë‹¤ìš´ë¡œë“œ-ì‹œìŠ¤í…œ)
4. [âš–ï¸ ëª¨ë¸ í¬íŠ¸í´ë¦¬ì˜¤ ë¦¬ë°¸ëŸ°ì‹±](#ï¸-ëª¨ë¸-í¬íŠ¸í´ë¦¬ì˜¤-ë¦¬ë°¸ëŸ°ì‹±)
5. [ğŸ› ï¸ ì¼ë°˜ì ì¸ ì‚¬ìš©ë²•](#ï¸-ì¼ë°˜ì ì¸-ì‚¬ìš©ë²•)
6. [ğŸ’¡ ì‹¤ë¬´ ì‹œë‚˜ë¦¬ì˜¤](#-ì‹¤ë¬´-ì‹œë‚˜ë¦¬ì˜¤)
7. [ğŸ”§ ê³ ê¸‰ ê¸°ëŠ¥](#-ê³ ê¸‰-ê¸°ëŠ¥)

## ğŸ¯ **í•µì‹¬ ê¸°ëŠ¥**

### âœ… **í¬íŠ¸í´ë¦¬ì˜¤ ìœ„ì¹˜ ì¶”ì **
- **IBKR ì‹¤ì‹œê°„ ì—°ë™**: Interactive Brokers APIë¥¼ í†µí•œ ì‹¤ì‹œê°„ í¬ì§€ì…˜ ë°ì´í„°
- **SGD ê¸°ì¤€ í†µí™”**: ëª¨ë“  ê¸ˆì•¡ì´ ìë™ìœ¼ë¡œ SGDë¡œ í†µì¼ í‘œì‹œ
- **Excel í‘œì¤€ ì¶œë ¥**: IBKR í˜¸í™˜ Summary + Matrix ì‹œíŠ¸ í˜•ì‹
- **ë‹¤ì¤‘ ê³„ì¢Œ ì§€ì›**: ì—¬ëŸ¬ ê³„ì¢Œë¥¼ í•œ ë²ˆì— í†µí•© ë‹¤ìš´ë¡œë“œ

### âœ… **ëª¨ë¸ í¬íŠ¸í´ë¦¬ì˜¤ ê¸°ë°˜ ë¦¬ë°¸ëŸ°ì‹±**
- **GTAA ì „ëµ**: SPMO(33.34%) + SMH(33.33%) + IAU(33.33%) ë¯¸êµ­ ETF í¬íŠ¸í´ë¦¬ì˜¤
- **2ì¼ì°¨ ì£¼ë¬¸ ì „ëµ**: Day 1 (MoC ì •ìˆ˜) + Day 2 (LIMIT ì†Œìˆ˜ì )
- **IBKR CSV ì£¼ë¬¸ì§€**: ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ í‘œì¤€ í˜•ì‹ ì£¼ë¬¸ì„œ ìƒì„±
- **ìŠ¤ë§ˆíŠ¸ ë¦¬ë°¸ëŸ°ì‹±**: í˜„ì¬ ë¹„ì¤‘ vs ëª©í‘œ ë¹„ì¤‘ ìë™ ê³„ì‚° ë° ìµœì í™”

### âœ… **ì™„ì „ ìë™í™”**
- **ì¼ì¼ ìŠ¤ì¼€ì¤„ë§**: Singapore ì‹œê°„ëŒ€ ê¸°ì¤€ ìë™ ì‹¤í–‰
- **ìºì‹œ ì‹œìŠ¤í…œ**: ì˜¤í”„ë¼ì¸ ì‘ì—…ì„ ìœ„í•œ ë§ˆì¼“ ë°ì´í„° ìºì‹±
- **í†µí•© ì›Œí¬í”Œë¡œìš°**: ë°ì´í„° ìˆ˜ì§‘ â†’ ë¶„ì„ â†’ ë³´ê³ ì„œ â†’ ì£¼ë¬¸ì§€ê¹Œì§€ ì›ìŠ¤í†±

## ğŸš€ **ë¹ ë¥¸ ì‹œì‘**

### 1. ì„¤ì¹˜
```bash
git clone https://github.com/my2582/simple-order-management-platform.git
cd simple-order-management-platform
pip install -r requirements.txt
```

### 2. IBKR ì—°ê²° ì„¤ì •
1. IB Gateway ë˜ëŠ” TWS ì‹¤í–‰
2. API ì„¤ì •ì—ì„œ í¬íŠ¸ í™œì„±í™” (Paper: 4002, Live: 4001)
3. "Read-Only API" ì˜µì…˜ í™œì„±í™” (ì•ˆì „ì„ ìœ„í•´)

### 3. ì²« í¬ì§€ì…˜ ë‹¤ìš´ë¡œë“œ
```bash
# ëª¨ë“  ê³„ì¢Œ í¬ì§€ì…˜ ë‹¤ìš´ë¡œë“œ
./positions

# íŠ¹ì • ê³„ì¢Œë§Œ ë‹¤ìš´ë¡œë“œ
./positions --accounts DU123456
```

### 4. ëª¨ë¸ í¬íŠ¸í´ë¦¬ì˜¤ í™•ì¸
```bash
# ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ í¬íŠ¸í´ë¦¬ì˜¤ ëª©ë¡
./model-portfolios

# GTAA ëª¨ë¸ ìƒì„¸ ì •ë³´
python3 -m simple_order_management_platform.cli show-model-portfolio GTAA
```

## ğŸ“Š **í¬ì§€ì…˜ ë‹¤ìš´ë¡œë“œ ì‹œìŠ¤í…œ**

### ğŸ¯ **ê¸°ë³¸ ì‚¬ìš©ë²•**

#### ğŸ“ˆ **ì‹¤ì‹œê°„ í¬ì§€ì…˜ ë‹¤ìš´ë¡œë“œ**
```bash
# ì „ì²´ ê³„ì¢Œ í¬ì§€ì…˜ (ì‹¤ì‹œê°„ ê°€ê²©)
./positions

# íŠ¹ì • ê³„ì¢Œë§Œ ì„ íƒ
./positions --accounts DU123456,DU789012

# Paper Trading ê³„ì¢Œ (4002 í¬íŠ¸)
./positions --port 4002

# Live Trading ê³„ì¢Œ (4001 í¬íŠ¸)  
./positions --port 4001
```

#### âš¡ **ìºì‹œëœ ê°€ê²©ìœ¼ë¡œ ë¹ ë¥¸ ì¡°íšŒ**
```bash
# ìºì‹œëœ ê°€ê²© ì‚¬ìš© (30ì´ˆ ë‚´ ì™„ë£Œ)
./positions-cached

# íŠ¹ì • ê³„ì¢Œë§Œ ë¹ ë¥¸ ì¡°íšŒ
./positions-cached --accounts DU123456
```

### ğŸ“‹ **ì¶œë ¥ í˜•ì‹**

#### **Excel íŒŒì¼ êµ¬ì¡°**
ìƒì„±ë˜ëŠ” Excel íŒŒì¼ (`./data/output/portfolio_positions_YYYYMMDD_HHMMSS.xlsx`):

**Summary ì‹œíŠ¸**:
| Account | Net Liquidation Value | Securities Gross Position Value | Cash | % of Net Liq |
|---------|----------------------|--------------------------------|------|-------------|
| DU123456| SGD 150,250.00      | SGD 142,750.00                | SGD 7,500.00 | 95.01% / 4.99% |

**Matrix ì‹œíŠ¸**:
| Account_ID | Gross/NLV | Cash % | SPMO_Weight | SMH_Weight | IAU_Weight | 
|------------|-----------|--------|-------------|------------|------------|
| DU123456   | 95.01%    | 4.99%  | 33.5%       | 33.2%      | 33.3%      |

#### **ì½˜ì†” ì¶œë ¥ ì˜ˆì‹œ**
```
ğŸ“Š Starting IBKR standard portfolio positions download
âœ… Connected to IBKR (Port: 4002, Client ID: 1)
ğŸ“ˆ Found 2 managed accounts: ['DU123456', 'DU789012']

Account: DU123456
â”œâ”€ Total Value: SGD 150,250.00
â”œâ”€ Active Positions: 3
â”œâ”€ SPMO: 150 shares (SGD 50,325.00)
â”œâ”€ SMH: 200 shares (SGD 50,200.00) 
â”œâ”€ IAU: 1,500 shares (SGD 42,225.00)
â””â”€ Cash: SGD 7,500.00

ğŸ’¾ Excel saved: ./data/output/portfolio_positions_20250908_143022.xlsx
```

### ğŸ”„ **ë§ˆì¼“ ë°ì´í„° ê´€ë¦¬**

#### **ê°€ê²© ë°ì´í„° ì—…ë°ì´íŠ¸**
```bash
# ì¼ë°˜ ì—…ë°ì´íŠ¸ (24ì‹œê°„ ì´ë‚´ë©´ ìŠ¤í‚µ)
./update-market-data

# ê°•ì œ ì—…ë°ì´íŠ¸ (ìµœì‹  ê°€ê²© í•„ìˆ˜)
./update-market-data --force

# ìºì‹œ ìƒíƒœ í™•ì¸
./market-data-status
```

#### **ìºì‹œ ìƒíƒœ í™•ì¸ ê²°ê³¼**
```
ğŸ“Š Market Data Cache Status
Current time (SGT): 2025-09-08 14:30:45 +08
Cache Status: âœ… FRESH (Age: 2.3 hours)
Last Updated: 2025-09-08 12:15:22 +08  
Cached Symbols: 450+ symbols
```

## âš–ï¸ **ëª¨ë¸ í¬íŠ¸í´ë¦¬ì˜¤ ë¦¬ë°¸ëŸ°ì‹±**

### ğŸ¯ **GTAA ëª¨ë¸ í¬íŠ¸í´ë¦¬ì˜¤**

#### **í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„±**
| ì¢…ëª© | ë¹„ì¤‘ | ì„¤ëª… |
|------|------|------|
| **SPMO** | 33.34% | Invesco S&P 500 Momentum ETF |
| **SMH** | 33.33% | VanEck Semiconductor ETF |
| **IAU** | 33.33% | iShares Gold Trust |

```bash
# GTAA ëª¨ë¸ ìƒì„¸ ì •ë³´ ë³´ê¸°
python3 -m simple_order_management_platform.cli show-model-portfolio GTAA
```

### ğŸ”§ **ê³„ì • ì„¤ì • ë° í• ë‹¹**

#### **ê³„ì •ì„ ëª¨ë¸ í¬íŠ¸í´ë¦¬ì˜¤ì— í• ë‹¹**
```bash
# ìˆ˜ë™ í• ë‹¹
python3 -m simple_order_management_platform.cli assign-account DU123456 GTAA

# ë˜ëŠ” í—¬í¼ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (ì—¬ëŸ¬ ê³„ì • í•œ ë²ˆì—)
python3 scripts/setup_gtaa_accounts.py DU123456 DU789012 DU345678
```

### ğŸ“Š **ë¦¬ë°¸ëŸ°ì‹± ë¶„ì„**

#### **í˜„ì¬ í¬íŠ¸í´ë¦¬ì˜¤ì™€ ëª©í‘œ ë¹„ì¤‘ ë¹„êµ**
```bash
# ì „ì²´ ê³„ì¢Œ ë¦¬ë°¸ëŸ°ì‹± ë¶„ì„
./rebalance

# íŠ¹ì • ê³„ì¢Œë§Œ ë¶„ì„
./rebalance --accounts DU123456

# íŠ¹ì • ëª¨ë¸ í¬íŠ¸í´ë¦¬ì˜¤ë¡œ ë¶„ì„
./rebalance --model-portfolio GTAA
```

#### **ë¶„ì„ ê²°ê³¼ ì˜ˆì‹œ**
```
âš–ï¸ Calculating Rebalancing Requirements

Account: DU123456
Model Portfolio: GTAA
Total Value: SGD 150,250.00

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Symbol â”‚ Current Wt.  â”‚ Target Wt.   â”‚ Difference â”‚ Current    â”‚ Required Action â”‚
â”‚        â”‚              â”‚              â”‚            â”‚ Shares     â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SPMO   â”‚ 33.50%       â”‚ 33.34%       â”‚ +0.16%     â”‚ 150.00     â”‚ -1.20           â”‚
â”‚ SMH    â”‚ 33.21%       â”‚ 33.33%       â”‚ -0.12%     â”‚ 200.00     â”‚ +1.85           â”‚  
â”‚ IAU    â”‚ 33.29%       â”‚ 33.33%       â”‚ -0.04%     â”‚ 1,500.00   â”‚ +15.30          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ˆ Rebalancing recommended
```

### ğŸ“‹ **ì£¼ë¬¸ì§€ ìƒì„±**

#### **IBKR í˜¸í™˜ CSV ì£¼ë¬¸ì§€ ìƒì„±**
```bash
# ì „ì²´ ì£¼ë¬¸ì§€ (Day 1 + Day 2)
./generate-orders orders.csv

# Day 1ë§Œ (MoC ì •ìˆ˜ ì£¼ë¬¸)
./generate-orders day1_orders.csv --day 1

# Day 2ë§Œ (LIMIT ì†Œìˆ˜ì  ì£¼ë¬¸)
./generate-orders day2_orders.csv --day 2

# íŠ¹ì • ê³„ì¢Œë§Œ
./generate-orders orders.csv --accounts DU123456
```

#### **ìƒì„±ëœ IBKR CSV í˜•ì‹**
```csv
Action,Quantity,Symbol,SecType,Exchange,Currency,TimeInForce,OrderType,LmtPrice,BasketTag,Account,UsePriceMgmtAlgo,OrderRef
SELL,1,SPMO,STK,SMART,USD,DAY,MOC,,EX_20250908_1,DU123456,TRUE,
BUY,1,SMH,STK,SMART,USD,DAY,MOC,,EX_20250908_1,DU123456,TRUE,
BUY,15,IAU,STK,SMART,USD,DAY,MOC,,EX_20250908_1,DU123456,TRUE,
```

### ğŸ¯ **2ì¼ì°¨ ì£¼ë¬¸ ì „ëµ**

#### **Day 1 ì£¼ë¬¸ (Market on Close)**
- **ëŒ€ìƒ**: 5% ì´ìƒ ë¹„ì¤‘ ì¢…ëª© ì¤‘ ìµœì†Œ ë¹„ì¤‘ ì¢…ëª© ì œì™¸
- **ì£¼ë¬¸ íƒ€ì…**: MOC (Market on Close)
- **ìˆ˜ëŸ‰**: ì •ìˆ˜ ë‹¨ìœ„ë§Œ (fractional shares ë¶ˆê°€)
- **ëª©ì **: ì£¼ìš” í¬ì§€ì…˜ ì¡°ì •

#### **Day 2 ì£¼ë¬¸ (Limit)**
- **ëŒ€ìƒ**: ì”ì—¬ ëª¨ë“  ì¢…ëª© (ì†Œìˆ˜ì  ì¡°ì • í¬í•¨)
- **ì£¼ë¬¸ íƒ€ì…**: LIMIT 
- **ìˆ˜ëŸ‰**: ì†Œìˆ˜ì  ë‹¨ìœ„ê¹Œì§€ ì •í™•í•œ ì¡°ì •
- **ëª©ì **: ì •ë°€í•œ ë¹„ì¤‘ ë§ì¶”ê¸°

## ğŸ› ï¸ **ì¼ë°˜ì ì¸ ì‚¬ìš©ë²•**

### ğŸ“ˆ **ì¼ì¼ ì›Œí¬í”Œë¡œìš°**

#### ğŸŒ… **ë§¤ì¼ ì•„ì¹¨ (ì—…ë¬´ ì‹œì‘)**
```bash
# 1. ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
./test-integrations

# 2. ë§ˆì¼“ ë°ì´í„° ì—…ë°ì´íŠ¸
./update-market-data

# 3. ì „ì²´ í¬ì§€ì…˜ ë‹¤ìš´ë¡œë“œ
./positions

# âœ… ê²°ê³¼: ìµœì‹  ë°ì´í„° í¬íŠ¸í´ë¦¬ì˜¤ ë³´ê³ ì„œ ì™„ì„±
```

#### ğŸ“Š **ì™„ì „ ìë™í™” ì‹¤í–‰**
```bash
# ì›í´ë¦­ ì „ì²´ ì—…ë°ì´íŠ¸ (ë§ˆì¼“ë°ì´í„° + í¬ì§€ì…˜)
./run-daily-update

# ì´ ëª…ë ¹ì–´ëŠ” ìë™ ì‹¤í–‰:
# 1ï¸âƒ£ ë§ˆì¼“ ë°ì´í„° ì—…ë°ì´íŠ¸
# 2ï¸âƒ£ ì „ì²´ ê³„ì¢Œ í¬ì§€ì…˜ ë‹¤ìš´ë¡œë“œ
# 3ï¸âƒ£ Excel ë³´ê³ ì„œ ìƒì„±
# 4ï¸âƒ£ SharePoint ì—…ë¡œë“œ (ì„¤ì •ëœ ê²½ìš°)
# 5ï¸âƒ£ ì´ë©”ì¼ ë°œì†¡ (ì„¤ì •ëœ ê²½ìš°)
```

### ğŸ•’ **ìë™ ìŠ¤ì¼€ì¤„ë§**

#### **Singapore ì‹œê°„ëŒ€ ìë™í™”**
```bash
# ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘
./start-scheduler

# ìŠ¤ì¼€ì¤„ëŸ¬ ìƒíƒœ í™•ì¸
./scheduler-status

# ê¸°ë³¸ ìŠ¤ì¼€ì¤„:
# â€¢ 06:00 SGT: ë§ˆì¼“ ë°ì´í„° ì—…ë°ì´íŠ¸
# â€¢ 06:30 SGT: í¬íŠ¸í´ë¦¬ì˜¤ ìœ„ì¹˜ ë‹¤ìš´ë¡œë“œ
```

## ğŸ’¡ **ì‹¤ë¬´ ì‹œë‚˜ë¦¬ì˜¤**

### ğŸ¯ **ì‹œë‚˜ë¦¬ì˜¤ 1: ê³ ê° í¬íŠ¸í´ë¦¬ì˜¤ í˜„í™© ë¬¸ì˜**
```bash
# ë¹ ë¥¸ í™•ì¸ (ìºì‹œ ì‚¬ìš©, ~30ì´ˆ)
./positions-cached --accounts DU123456

# ì •í™•í•œ í™•ì¸ (ì‹¤ì‹œê°„, ~3ë¶„)
./positions --accounts DU123456
```

### ğŸ’° **ì‹œë‚˜ë¦¬ì˜¤ 2: ê³ ê° ì‹ ê·œ íˆ¬ì (ì…ê¸ˆ)**
```bash
# 1. ê³„ì¢Œë¥¼ GTAA ëª¨ë¸ì— í• ë‹¹
python3 -m simple_order_management_platform.cli assign-account DU123456 GTAA

# 2. ë¦¬ë°¸ëŸ°ì‹± í•„ìš”ë„ í™•ì¸
./rebalance --accounts DU123456

# 3. ì£¼ë¬¸ì„œ ìƒì„±
./generate-orders new_investment_orders.csv --accounts DU123456
```

### âš–ï¸ **ì‹œë‚˜ë¦¬ì˜¤ 3: ì •ê¸° ë¦¬ë°¸ëŸ°ì‹±**
```bash
# 1. ì „ì²´ ê³„ì¢Œ ë¦¬ë°¸ëŸ°ì‹± ë¶„ì„
./rebalance

# 2. Day 1 ì£¼ë¬¸ì„œ ìƒì„± (MoC)
./generate-orders day1_rebalance.csv --day 1

# 3. (ë‹¤ìŒë‚ ) Day 2 ì£¼ë¬¸ì„œ ìƒì„± (LIMIT)
./generate-orders day2_rebalance.csv --day 2
```

### ğŸ“± **ì‹œë‚˜ë¦¬ì˜¤ 4: ê³ ê° ì¶œê¸ˆ ìš”ì²­**
```bash
# í˜„ì¬ í¬ì§€ì…˜ í™•ì¸
./positions --accounts DU123456

# ì¶œê¸ˆìš© ì£¼ë¬¸ì„œëŠ” í˜„ì¬ GTAA ëª¨ë¸ë¡œ ë¹„ë¡€ ë§¤ë„
# (í–¥í›„ withdrawal íƒ€ì… ì¶”ê°€ ì˜ˆì •)
```

### ğŸ“ **ì‹œë‚˜ë¦¬ì˜¤ 5: ì›”ë§ ë³´ê³ ì„œ ì‘ì„±**
```bash
# 1. ìµœì‹  ê°€ê²©ìœ¼ë¡œ ê°•ì œ ì—…ë°ì´íŠ¸
./update-market-data --force

# 2. ì „ì²´ ê³„ì¢Œ í¬ì§€ì…˜ ë‹¤ìš´ë¡œë“œ
./positions

# 3. íŒŒì¼ ìœ„ì¹˜ í™•ì¸
ls -la ./data/output/portfolio_positions_*.xlsx
```

## ğŸ”§ **ê³ ê¸‰ ê¸°ëŠ¥**

### ğŸ”— **IBKR ì—°ê²° ì˜µì…˜**

#### **ë‹¤ì¤‘ í¬íŠ¸ ì§€ì›**
```bash
# Paper Trading (ê¸°ë³¸)
./positions --port 4002

# Live Trading
./positions --port 4001  

# TWS (Trader Workstation)
./positions --port 7497

# ìë™ í¬íŠ¸ íƒì§€ (ê¶Œì¥)
./positions  # 4001â†’4002â†’7497â†’7496 ìˆœì„œë¡œ ì‹œë„
```

#### **ì—°ê²° í…ŒìŠ¤íŠ¸**
```bash
# IBKR ì—°ê²° ìƒíƒœ í™•ì¸
./test-connection

# íŠ¹ì • í¬íŠ¸ í…ŒìŠ¤íŠ¸
./test-connection --port 4001

# ì „ì²´ ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸
./test-integrations
```

### âš™ï¸ **ì„¤ì • ë° ì»¤ìŠ¤í„°ë§ˆì´ì§•**

#### **ëª¨ë¸ í¬íŠ¸í´ë¦¬ì˜¤ ì¶”ê°€/ìˆ˜ì •**
```yaml
# src/simple_order_management_platform/config/model_portfolios.yaml
model_portfolios:
  CUSTOM:
    name: "Custom Strategy"
    description: "My custom portfolio"
    holdings:
      - symbol: "VTI"
        target_weight: 0.6000  # 60%
        security_type: "STK"
      - symbol: "VXUS"  
        target_weight: 0.4000  # 40%
        security_type: "STK"
```

#### **ê³„ì¢Œ ë§¤í•‘ ì„¤ì •**
```yaml
# config/model_portfolios.yaml
account_mappings:
  "DU123456": "GTAA"
  "DU789012": "GTAA" 
  "DU345678": "CUSTOM"
```

### ğŸ“Š **ë°ì´í„° ë° ë¡œê¹…**

#### **íŒŒì¼ ì €ì¥ ìœ„ì¹˜**
```
./data/
â”œâ”€â”€ output/                              # ìƒì„±ëœ ë³´ê³ ì„œ
â”‚   â”œâ”€â”€ portfolio_positions_20250908_143022.xlsx
â”‚   â””â”€â”€ orders_20250908_143530.csv
â”œâ”€â”€ market_data_cache/                   # ë§ˆì¼“ ë°ì´í„° ìºì‹œ
â”‚   â”œâ”€â”€ prices_20250908.json
â”‚   â””â”€â”€ cache_metadata.json
â””â”€â”€ logs/                               # ë¡œê·¸ íŒŒì¼
    â”œâ”€â”€ scheduler_daemon.log
    â””â”€â”€ application.log
```

#### **ì‹¤í–‰ ì‹œê°„ ê°€ì´ë“œ**
| ì‘ì—… | ì†Œìš” ì‹œê°„ | ì„¤ëª… |
|------|-----------|------|
| `./positions-cached` | ~30ì´ˆ | ìºì‹œëœ ê°€ê²© ì‚¬ìš© |
| `./positions` (1ê³„ì¢Œ) | ~2ë¶„ | ì‹¤ì‹œê°„ ê°€ê²©, ë‹¨ì¼ ê³„ì¢Œ |
| `./positions` (3ê³„ì¢Œ) | ~5ë¶„ | ì‹¤ì‹œê°„ ê°€ê²©, ë‹¤ì¤‘ ê³„ì¢Œ |
| `./update-market-data` | ~3ë¶„ | 450+ ì¢…ëª© ê°€ê²© ì—…ë°ì´íŠ¸ |
| `./rebalance` | ~1ë¶„ | ë¦¬ë°¸ëŸ°ì‹± ê³„ì‚° |
| `./generate-orders` | ~30ì´ˆ | IBKR CSV ìƒì„± |
| `./run-daily-update` | ~10ë¶„ | ì™„ì „í•œ ì›Œí¬í”Œë¡œìš° |

### ğŸ†˜ **ë¬¸ì œ í•´ê²°**

#### **ì¼ë°˜ì ì¸ ì˜¤ë¥˜**

**1. IBKR ì—°ê²° ì‹¤íŒ¨**
```bash
# í¬íŠ¸ í™•ì¸
./test-connection --port 4002

# IB Gateway ì¬ì‹œì‘ í›„ ì¬ì‹œë„
./positions --port 4002
```

**2. ë§ˆì¼“ ë°ì´í„° ì˜¤ë˜ë¨**
```bash
# ìºì‹œ ìƒíƒœ í™•ì¸
./market-data-status

# ê°•ì œ ì—…ë°ì´íŠ¸
./update-market-data --force
```

**3. ê³„ì¢Œ ë§¤í•‘ ì˜¤ë¥˜**
```bash
# ê³„ì¢Œ ìˆ˜ë™ í• ë‹¹
python3 -m simple_order_management_platform.cli assign-account DU123456 GTAA

# ë˜ëŠ” config íŒŒì¼ ì§ì ‘ ìˆ˜ì •
nano src/simple_order_management_platform/config/model_portfolios.yaml
```

#### **ë„ì›€ë§ ë° ì§€ì›**
```bash
# ì „ì²´ ëª…ë ¹ì–´ ëª©ë¡
./simple-order-help

# íŠ¹ì • ëª…ë ¹ì–´ ë„ì›€ë§
./positions --help
./rebalance --help
./generate-orders --help

# ìì„¸í•œ ë¡œê·¸ì™€ í•¨ê»˜ ì‹¤í–‰
python3 -m simple_order_management_platform.cli download-positions-ibkr --verbose
```

## ğŸ¯ **ì‹œìŠ¤í…œ íŠ¹ì§•**

### âœ… **Production-Ready**
- **ë¬´ì¸ ìë™í™”**: 24/7 ìŠ¤ì¼€ì¤„ë§ ì§€ì›
- **ê²¬ê³ í•œ ì—ëŸ¬ ì²˜ë¦¬**: ì—°ê²° ì‹¤íŒ¨ ì‹œ ìë™ ì¬ì‹œë„
- **ìºì‹œ ê¸°ë°˜**: ë„¤íŠ¸ì›Œí¬ ì˜ì¡´ì„± ìµœì†Œí™”
- **Unix ì² í•™**: ê° ë„êµ¬ëŠ” í•œ ê°€ì§€ ì¼ì„ ì™„ë²½í•˜ê²Œ

### âœ… **IBKR í‘œì¤€ ì¤€ìˆ˜**
- **ib-insync ê¸°ë°˜**: ì•ˆì •ì ì¸ IBKR API ì—°ë™
- **SGD ê¸°ì¤€ í†µí™”**: ëª¨ë“  ê³„ì‚° ê²°ê³¼ ì¼ê´€ì„±
- **í‘œì¤€ ìš©ì–´**: Net Liquidation Value, Securities Gross Position Value
- **CSV í˜¸í™˜**: IBKRì—ì„œ ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ ì£¼ë¬¸ í˜•ì‹

### âœ… **ì‚¬ìš©ì ì¹œí™”ì **
- **ì§ê´€ì  ëª…ë ¹ì–´**: `./positions`, `./rebalance`, `./generate-orders`
- **ì‹¤ì‹œê°„ í”¼ë“œë°±**: ì§„í–‰ ìƒí™© ì‹¤ì‹œê°„ í‘œì‹œ
- **í’ë¶€í•œ ì¶œë ¥**: ì½˜ì†” + Excel + CSV ë‹¤ì¤‘ í˜•ì‹
- **ìœ ì—°í•œ ì˜µì…˜**: ê³„ì¢Œë³„, í¬íŠ¸ë³„, ëª¨ë¸ë³„ ì„¸ë°€í•œ ì œì–´

## ğŸ“š **ì¶”ê°€ ë¬¸ì„œ**

- **[CLI ëª…ë ¹ì–´ ìƒì„¸ ê°€ì´ë“œ](docs/cli-reference.md)**
- **[IBKR ì—°ê²° ì„¤ì • ë°©ë²•](docs/ibkr-setup.md)**  
- **[ìë™í™” ìŠ¤ì¼€ì¤„ëŸ¬ ê°€ì´ë“œ](docs/SCHEDULER_GUIDE.md)**
- **[ëª¨ë¸ í¬íŠ¸í´ë¦¬ì˜¤ ì •ì˜](docs/model-portfolios.md)**

## ğŸ¤ **ê¸°ì—¬ ë° ì§€ì›**

- **Issues**: GitHub Issuesë¥¼ í†µí•œ ë²„ê·¸ ë¦¬í¬íŠ¸
- **Pull Requests**: ê¸°ëŠ¥ ê°œì„  ë° ë²„ê·¸ ìˆ˜ì • í™˜ì˜
- **Documentation**: ë¬¸ì„œ ê°œì„  ì œì•ˆ

---

## ğŸ‰ **ìµœì‹  ì—…ë°ì´íŠ¸ (2025-09-08)**

### ğŸš€ **v3.0 - ëª¨ë¸ í¬íŠ¸í´ë¦¬ì˜¤ ë¦¬ë°¸ëŸ°ì‹± ì‹œìŠ¤í…œ**
- âœ… **GTAA ëª¨ë¸ í¬íŠ¸í´ë¦¬ì˜¤**: SPMO + SMH + IAU ê· ë“± ë¹„ì¤‘ ì „ëµ
- âœ… **2ì¼ì°¨ ì£¼ë¬¸ ì „ëµ**: Day 1 MoC + Day 2 LIMIT ìµœì í™”
- âœ… **IBKR CSV ì£¼ë¬¸ì§€**: í‘œì¤€ í˜•ì‹ ìë™ ìƒì„±
- âœ… **ìŠ¤ë§ˆíŠ¸ ë¦¬ë°¸ëŸ°ì‹±**: í˜„ì¬ vs ëª©í‘œ ë¹„ì¤‘ ìë™ ê³„ì‚°
- âœ… **ë‹¤ì¤‘ ê³„ì¢Œ ì§€ì›**: ì—¬ëŸ¬ ê³„ì¢Œ í†µí•© ë¦¬ë°¸ëŸ°ì‹±
- âœ… **Unix ì² í•™**: ê°„ë‹¨í•˜ê³  ê°•ë ¥í•œ ë„êµ¬ë“¤

**ê°œë°œì ë…¸íŠ¸**: ì‹¤ì œ í¬íŠ¸í´ë¦¬ì˜¤ ë§¤ë‹ˆì €ë¥¼ ìœ„í•œ ì™„ì „í•œ ë¦¬ë°¸ëŸ°ì‹± ì›Œí¬í”Œë¡œìš°ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì´ì œ í¬ì§€ì…˜ ë¶„ì„ë¶€í„° IBKR ì£¼ë¬¸ ì‹¤í–‰ê¹Œì§€ ì™„ì „íˆ ìë™í™”ëœ í”„ë¡œì„¸ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.